<ion-header no-border>
</ion-header>
<ion-content *ngIf="pathType == 'order'">
    <div *ngIf="type == 'post'">
        <ion-icon back_funct name="arrow-back" tappable (click)="back_category()"></ion-icon>
        <img *ngIf="!primaryImages" class="img_size" src="{{imageUrl}}{{orderDetail.post_primary_image}}" alt="image not found" (click)="imageView(imageUrl+orderDetail.post_primary_image, orderDetail.title)">
        <img *ngIf="primaryImages " class="img_size" src="{{primaryImages}}" alt="image not found" (click)="imageView(primaryImages, orderDetail.title)">
        <div bag_clr>
            <ion-row>
                <ion-col col-4>
                    <img class="img_icon_2" src="{{imageUrl}}{{orderDetail.post_primary_image}}" alt="image not found" tappable (click)="Primary_image(imageUrl+orderDetail.post_primary_image)">
                </ion-col>
                <ion-col col-4 *ngFor="let item of orderDetail.post_sub_images">
                    <img *ngIf="item != null" class="img_icon_2" src="{{imageUrl}}{{item.main_image}}" alt="image not found" tappable (click)="second_image(imageUrl+item.main_image)">
                    <img *ngIf="item == null" class="img_icon_2" src="assets/imgs/empty_dp.png" alt="image not found" tappable (click)="second_image('assets/imgs/empty_dp.png')">
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Title</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.title}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Cost</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.total | currency:'රු ':'symbol':'1.0-2'}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Type</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.type}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Content</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.description}}
                    </h3>
                </ion-col>
            </ion-row>
            <ion-row *ngIf="orderDetail.post_price" bg_desgn>
                <ion-col col-4>
                    <h3>Selling Price</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.post_price}}
                    </h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Posted date</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.effective_date}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Expiry date</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.expire_date}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Status</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.type_status}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn *ngIf="orderDetail.due_amount">
                <ion-col col-4>
                    <h3>Due Amount</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.due_amount}}</h3>
                </ion-col>
            </ion-row>
            <div text-center>
                <button *ngIf="orderDetail.type_status == post_status || orderDetail.type_status == post_status_due || orderDetail.type_status == post_incorrect_reffernumber" ion-button icon-end class="add_click" tappable (click)="payment(orderDetail.id,orderDetail.type,orderDetail.total,orderDetail.due_amount)">{{languagefield.payment}}</button>
                <button ion-button icon-end tappable *ngIf="orderDetail.type_status == publish && orderDetail.status == 1 " class="add_click_1" (click)="active_button(0,orderDetail.type,orderDetail.id)">Active</button>
                <button ion-button icon-end tappable *ngIf="orderDetail.type_status == publish && orderDetail.status == 0 " class="add_click_1" (click)="active_button(1,orderDetail.type,orderDetail.id)">Inactive</button>
            </div>
        </div>
    </div>
    <div *ngIf="type == 'ad_request'">
        <div bag_clr_1>
            <ion-icon back_funct name="arrow-back" (click)="back_category()"></ion-icon>
            <img *ngIf="orderDetail.main_image == null" class="img_icon_1" src="assets/imgs/empty_dp.png" alt="image not found">
            <img *ngIf="orderDetail.main_image != null" class="img_icon_1" src="{{imageUrl}}{{orderDetail.main_image}}" alt="image not found" (click)="imageView(imageUrl+orderDetail.main_image, orderDetail.title)">
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Price</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.total | currency:'රු ':'symbol':'1.0-2'}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Type</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>Advertisement</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Content</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.description}}
                    </h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Order Id</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.order_id}}
                    </h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Mobile Number</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.mobile_number}}
                    </h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Duration</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.duration}} {{orderDetail.duration_type}}
                    </h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Category</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.category}} - {{orderDetail.banner_name}}
                    </h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Status</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.ad_status}}
                    </h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn *ngIf="orderDetail.due_amount">
                <ion-col col-4>
                    <h3>Due amount</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.due_amount}}</h3>
                </ion-col>
            </ion-row>
            <div text-center *ngIf="orderDetail.ad_status == ad_status || orderDetail.ad_status == ad_incorrect_reffernumber || orderDetail.ad_status == ad_payment_incorrect">
                <button ion-button icon-end class="add_click" tappable (click)="payment(orderDetail.id,orderDetail.type,orderDetail.total,orderDetail.due_amount)">{{languagefield.payment}}</button>
            </div>
            <div text-center *ngIf="orderDetail.ad_status != ad_status && orderDetail.main_image != null && orderDetail.ad_status != ad_rework && orderDetail.ad_status != ad_satisfied ">
                <button ion-button icon-end class="add_click" tappable (click)="Satisfied()">Publish</button>
                <button ion-button icon-end class="add_click" tappable (click)="Rework()">Rework</button>
            </div>
            <div text-center *ngIf="orderDetail.ad_status == ad_rework && orderDetail.main_image != null">
                <button ion-button icon-end class="add_click">
          <ion-icon name="information-circle" padding-right></ion-icon> This image will be reworked
        </button>
            </div>
            <div text-center *ngIf="orderDetail.ad_status == ad_satisfied && orderDetail.main_image != null">
                <button ion-button icon-end class="add_click">
          <ion-icon name="information-circle" padding-right></ion-icon> successfully Published
        </button>
            </div>
        </div>
    </div>
    <div *ngIf="type == 'home_post'">
        <ion-icon back_funct name="arrow-back" tappable (click)="back_category()"></ion-icon>
        <!-- </button> -->
        <img *ngIf="!primaryImages" class="img_size" src="{{imageUrl}}{{orderDetail.post_primary_image}}" alt="image not found" (click)="imageView(imageUrl+orderDetail.post_primary_image, orderDetail.title)">
        <img *ngIf="primaryImages " class="img_size" src="{{primaryImages}}" alt="image not found" (click)="imageView(primaryImages, orderDetail.title)">
        <!-- <img *ngIf="secondImages" class="img_size" src="{{imageUrl}}{{secondImages}}" alt="image not found"> -->
        <div bag_clr>
            <ion-row>
                <ion-col col-4>
                    <img class="img_icon_2" tappable src="{{imageUrl}}{{orderDetail.post_primary_image}}" alt="image not found" (click)="Primary_image(imageUrl+orderDetail.post_primary_image)">
                </ion-col>
                <ion-col col-4 *ngFor="let item of orderDetail.post_sub_images">
                    <img *ngIf="item != null" class="img_icon_2" tappable src="{{imageUrl}}{{item.main_image}}" alt="image not found" (click)="second_image(imageUrl+item.main_image)">
                    <img *ngIf="item == null" class="img_icon_2" tappable src="assets/imgs/empty_dp.png" alt="image not found" (click)="second_image('assets/imgs/empty_dp.png')">
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Title</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.title}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Cost</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.total | currency:'රු ':'symbol':'1.0-2'}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Type</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>Home Post</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Content</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.description}}
                    </h3>
                </ion-col>
            </ion-row>
            <ion-row *ngIf="orderDetail.post_price" bg_desgn>
                <ion-col col-4>
                    <h3>Selling Price</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.post_price}}
                    </h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Posted date</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.effective_date}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn *ngIf="orderDetail.expire_date">
                <ion-col col-4>
                    <h3>Expiry date</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.expire_date}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-4>
                    <h3>Status</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{orderDetail.type_status}}</h3>
                </ion-col>
            </ion-row>
            <div text-center *ngIf="orderDetail.type_status == post_status || orderDetail.type_status == post_status_due || orderDetail.type_status == post_incorrect_reffernumber">
                <button ion-button icon-end class="add_click" tappable (click)="payment(orderDetail.id,orderDetail.type,orderDetail.total)">{{languagefield.payment}}</button>
            </div>
        </div>
    </div>
</ion-content>
<ion-content *ngIf="pathType == 'renewal'">
    <ion-icon back_funct name="arrow-back" tappable (click)="back_category()"></ion-icon>
    <img *ngIf="!renewalprimaryImages && renewalDetail.type== 'post'" class="img_size" src="{{imageUrl}}{{renewalDetail.primary_image}}" alt="image not found" (click)="imageView(imageUrl+renewalDetail.primary_image, renewalDetail.title)">
    <img *ngIf="renewalprimaryImages  && renewalDetail.type== 'post'" class="img_size" src="{{imageUrl}}{{renewalprimaryImages}}" alt="image not found" (click)="imageView(imageUrl+renewalprimaryImages, renewalDetail.title)">
    <img *ngIf="renewalDetail.type== 'ad_request'" class="img_icon_1" src="{{imageUrl}}{{renewalDetail.main_image}}" alt="image not found" (click)="imageView(imageUrl+renewalDetail.main_image, renewalDetail.title)">
    <div bag_clr margin-top>
        <ion-row *ngIf="renewalDetail.type== 'post'">
            <ion-col col-4>
                <img class="img_icon_2" tappable src="{{imageUrl}}{{renewalDetail.primary_image}}" alt="image not found" (click)="renewal_primary_image(renewalDetail.primary_image)">
            </ion-col>
            <ion-col col-4 *ngFor="let image of renewalDetail.multiimage">
                <img class="img_icon_2" src="{{imageUrl}}{{image.main_image}}" alt="Post Images" tappable (click)="renewal_second_image(image.main_image)">
            </ion-col>
        </ion-row>
        <ion-row bg_desgn *ngIf="InnerType != 'ad'">
            <ion-col col-4>
                <h3>Title</h3>
            </ion-col>
            <ion-col col-8>
                <h3>{{renewalDetail.title}}</h3>
            </ion-col>
        </ion-row>
        <ion-row bg_desgn>
            <ion-col col-4>
                <h3>Price</h3>
            </ion-col>
            <ion-col col-8>
                <h3>{{renewalDetail.total | currency:'රු ':'symbol':'1.0-2'}}</h3>
            </ion-col>
        </ion-row>
        <ion-row bg_desgn>
            <ion-col col-4>
                <h3>Type</h3>
            </ion-col>
            <ion-col col-8>
                <h3 *ngIf="renewalDetail.type=='ad_request'">Advertisement</h3>
                <h3 *ngIf="renewalDetail.type=='post'">Post</h3>
            </ion-col>
        </ion-row>
        <ion-row bg_desgn>
            <ion-col col-4>
                <h3>Order Id</h3>
            </ion-col>
            <ion-col col-8>
                <h3>{{renewalDetail.order_id}}</h3>
            </ion-col>
        </ion-row>
        <ion-row bg_desgn *ngIf="InnerType != 'ad'">
            <ion-col col-4>
                <h3>Content</h3>
            </ion-col>
            <ion-col col-8>
                <h3>{{renewalDetail.description}}
                </h3>
            </ion-col>
        </ion-row>
        <ion-row bg_desgn>
            <ion-col col-4>
                <h3>Duration</h3>
            </ion-col>
            <ion-col col-8>
                <h3>{{renewalDetail.duration}} {{renewalDetail.duration_type}}s</h3>
            </ion-col>
        </ion-row>
        <ion-row bg_desgn>
            <ion-col col-4>
                <h3>Posted date</h3>
            </ion-col>
            <ion-col col-8>
                <h3>{{renewalDetail.effective_date}}</h3>
            </ion-col>
        </ion-row>
        <ion-row bg_desgn>
            <ion-col col-4>
                <h3>Expiry date</h3>
            </ion-col>
            <ion-col col-8>
                <h3>{{renewalDetail.expire_date}}</h3>
            </ion-col>
        </ion-row>
        <div *ngIf="renewalDetail.type == 'post' && renewalDetail.renewal_details == null">
            <h4>Current Amount</h4>
            <ion-row bg_desgn>
                <ion-col col-6>
                    <h3>Current Amount</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{renewalDetail.current_details.actual_total}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-6>
                    <h3>Duration</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{renewalDetail.current_details.duration}} {{renewalDetail.current_details.duration_type}}s</h3>
                </ion-col>
            </ion-row>
        </div>
        <div *ngIf="renewalDetail.type == 'ad_request' && renewalDetail.renewal_details == null">
            <h4>Current Amount</h4>
            <!-- <ion-row bg_desgn>
        <ion-col col-8>
          <h3>Enter Duration in ({{renewalDetail.duration_type}})</h3>
        </ion-col>
        <ion-col col-4>
          <ion-input class="form-input" type="number" (keyup)="calculate($event.target.value)" placeholder="1">
          </ion-input>
        </ion-col>
      </ion-row> -->
            <ion-row bg_desgn *ngIf="renewalDetail.duration_type == 'month'">
                <ion-col col-12>
                    <h3>Enter Duration in ({{renewalDetail.duration_type}})
                        <ion-badge color="primary">{{add_duraction}}</ion-badge>
                    </h3>
                </ion-col>
                <ion-col col-12>
                    <ion-range min="1" max="12" color="secondary" pin="true" [(ngModel)]="value" (ionChange)="calculate(value)">
                        <ion-label range-left>1</ion-label>
                        <ion-label range-right>12</ion-label>
                    </ion-range>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn *ngIf="renewalDetail.duration_type == 'day'">
                <ion-col col-12>
                    <h3>Enter Duration in ({{renewalDetail.duration_type}})
                        <ion-badge color="primary">{{add_duraction}}</ion-badge>
                    </h3>
                </ion-col>
                <ion-col col-12>
                    <ion-range min="1" max="365" color="secondary" pin="true" [(ngModel)]="value" (ionChange)="calculate(value)">
                        <ion-label range-left>1</ion-label>
                        <ion-label range-right>365</ion-label>
                    </ion-range>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn *ngIf="renewalDetail.duration_type == 'week'">
                <ion-col col-12>
                    <h3>Enter Duration in ({{renewalDetail.duration_type}})
                        <ion-badge color="primary">{{add_duraction}}</ion-badge>
                    </h3>
                </ion-col>
                <ion-col col-12>
                    <ion-range min="1" max="52" color="secondary" pin="true" [(ngModel)]="value" (ionChange)="calculate(value)">
                        <ion-label range-left>1</ion-label>
                        <ion-label range-right>52</ion-label>
                    </ion-range>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn *ngIf="amount != actual_price">
                <ion-col col-6>
                    <h3>Original Price</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{amount| number : '1.2-2'}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn *ngIf="amount != product_price">
                <ion-col col-6>
                    <h3>Cost</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{product_price | number : '1.2-2'}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn *ngIf="discount_ammt">
                <ion-col col-6>
                    <h3>Discount - {{discount_ammt}} %</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{discount | number : '1.2-2'}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn *ngIf="discount_ammt">
                <ion-col col-6>
                    <h3>Price with discount</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{sales_price | number : '1.2-2'}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn *ngFor="let tax of tax_ammt">
                <ion-col col-6>
                    <h3>Tax - {{tax.tax}}- {{tax.percentage}} %</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{tax.percentage_amount | number : '1.2-2'}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-6>
                    <h3>Total Price</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{actual_price | number : '1.0-0'}}.00</h3>
                </ion-col>
            </ion-row>
        </div>
        <div *ngIf="renewalDetail.renewal_details != null">
            <h4>Renewal details</h4>
            <ion-row bg_desgn>
                <ion-col col-6>
                    <h3>Duration</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{renewalDetail.renewal_details.duration}} {{renewalDetail.renewal_details.duration_type}}s</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-6>
                    <h3>Renewal status</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{renewalDetail.renewal_details.renewal_status}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-6>
                    <h3>Order Id</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{renewalDetail.renewal_details.order_id}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn>
                <ion-col col-6>
                    <h3>Total amount</h3>
                </ion-col>
                <ion-col col-6>
                    <h3>{{renewalDetail.renewal_details.total_amount}}</h3>
                </ion-col>
            </ion-row>
            <ion-row bg_desgn *ngIf="renewalDetail.renewal_details.due_amount && renewalDetail.renewal_details.due_amount != 0.00">
                <ion-col col-4>
                    <h3>Due amount</h3>
                </ion-col>
                <ion-col col-8>
                    <h3>{{renewalDetail.renewal_details.due_amount}}</h3>
                </ion-col>
            </ion-row>
            <div text-center>
                <button *ngIf="renewalDetail.renewal_details.renewal_status == renewal_status_payment ||  renewalDetail.renewal_details.renewal_status == renewal_status_due ||  renewalDetail.renewal_details.renewal_status == renewal_status_reff_incorrect" ion-button
                    icon-end class="add_click" tappable (click)="paymentRenewal(renewalDetail.renewal_details.id,renewalDetail.renewal_details.order_id,renewalDetail.renewal_details.total_amount,renewalDetail.renewal_details.due_amount)">{{languagefield.payment}}
          </button>
            </div>
        </div>
        <div text-center>
            <button *ngIf="renewalDetail.renewal_details == null " ion-button icon-end class="add_click" tappable (click)="RenewalRequest(renewalDetail.duration_type,renewalDetail.order_id,renewalDetail.type,renewalDetail.duration)">
        Request for Payment</button>
        </div>
    </div>
</ion-content>