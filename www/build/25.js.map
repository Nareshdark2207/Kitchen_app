{"version":3,"sources":["../../src/pages/edit-email/edit-email.module.ts","../../src/pages/edit-email/edit-email.ts"],"names":[],"mappings":"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","file":"25.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditEmailPage } from './edit-email';\n\n@NgModule({\n  declarations: [\n    EditEmailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditEmailPage),\n  ],\n})\nexport class EditEmailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-email/edit-email.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Modal, ModalController  } from 'ionic-angular';\nimport { Validators, FormBuilder, FormGroup, FormControl } from '@angular/forms';\nimport { Service } from '../../app/service';\n/**\n * Generated class for the EditEmailPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-edit-email',\n  templateUrl: 'edit-email.html',\n})\nexport class EditEmailPage {\n  profile_url = 'user_profile';\n  customer_id: any;\n  profile_data: any = {};\n  img_path: any;\n  disabled: any = true;\n  customer_profile_form: FormGroup;\n  show: boolean;\n  emailSubmitUrl: string = 'user_mail';\n  cus_id: any;\n  languageheader_url: string = 'language_settings_header';\n  languageheader: any = {};\n  code: any;\n  api_token: any;\n  data: any;\n  language_field_url: string = 'language_settings_field';\n  languagefield: any = {};\n    // ================================================================================================================================\n  // VALIDATION MESSAGES\n  // ==============================\n  validation_messages = {\n    'customer_email': [\n      { type: 'required', message: 'Email is required' },\n      { type: 'pattern', message: 'Email is not valid' }\n    ],\n  };\n  constructor(public navCtrl: NavController, public navParams: NavParams, public formBuilder: FormBuilder, \n    public api_service: Service, private modalCtrl: ModalController) {\n    let customer_data = JSON.parse(localStorage.getItem('eastern_deals'));\n    this.customer_id = customer_data.id;\n    this.cus_id = customer_data.customer_id;\n    if (localStorage.getItem('lang_code')) {\n      let value = localStorage.getItem('lang_code');\n      this.code = value;\n      console.log(this.code);\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad EditEmailPage');\n  }\n  ngOnInit() {\n    this.customer_profile();\n    this.get_profile();\n    this.language_header();\n    this.language_field();\n  }\n  // =================================================================================================================================\n  // CUSTOMER PROFILE FORMINITIATE\n  // =======================================\n  customer_profile() {\n    this.customer_profile_form = this.formBuilder.group({\n      customer_email: new FormControl(null, [Validators.required, Validators.pattern('[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}]*')]),\n    });\n  }\n  // ==================================================================================================================================\n  // GET PROFILE DETAILS\n  // ============================\n  get_profile() {\n    let user_id = this.customer_id;\n    let api_token = this.api_service.api_token;\n    const url = this.profile_url + '?api_token=' + api_token + '&user_id=' + user_id;\n    this.api_service.get_list(url)\n      .subscribe((result: any) => {\n        if (result.status == 'success') {\n          this.api_service.stopLoader();\n          this.profile_data = result.data;\n          this.img_path = this.api_service.API_URL_IMG;\n          this.customer_profile_form.patchValue({\n            customer_email: this.profile_data.email,\n          });\n          this.show = true;\n\n        }\n      }, (error) => {\n        this.api_service.stopLoader();\n        this.api_service.create(error, 'top', 'error');\n\n        console.log(error)\n      });\n  }\n    // EMAIL EDIT\n  // ========================\n  emailSubmit = () => {\n    let updated_data: any = {};\n    updated_data.api_token = this.api_service.api_token;\n    updated_data.user_id = this.customer_id;\n    updated_data.customer_id = this.cus_id;\n    updated_data.email = this.customer_profile_form.value.customer_email;\n    this.api_service.post_data(this.emailSubmitUrl, updated_data)\n      .subscribe((result) => {\n        if (result.status == 'Success') {\n          this.api_service.stopLoader();\n          this.show = true;\n          const myModal: Modal = this.modalCtrl.create('EmailOtpPage', { data: updated_data });\n          myModal.present();\n        } else {\n          this.api_service.stopLoader();\n          this.api_service.create(result.errors.email[0], 'top', 'error');\n          this.show = false;\n        }\n      }, (error) => {\n        this.api_service.stopLoader();\n        this.api_service.create(error, 'top', 'error');\n\n        console.log(error)\n      })\n  }\n  // =============================================================================================================================================\n  hide = () => {\n    this.show = false;\n    this.disabled = false;\n  }\n  \n  language_header() {\n    this.data = {};\n    this.api_token = this.api_service.api_token;\n    this.data.api_token = this.api_token;\n    this.data.lang_code = this.code;\n    this.data.user_id = this.customer_id;\n    this.api_service.post_data(this.languageheader_url, this.data)\n      .subscribe((result: any) => {\n        this.api_service.stopLoader();\n        if (result.status == 'success') {\n          this.api_service.stopLoader();\n          this.languageheader = result.header_list;\n        }\n        else {\n          this.api_service.stopLoader();\n          this.api_service.create(result.message, 'top', 'error');\n        }\n      },\n        (error) => {\n          this.api_service.stopLoader();\n          this.api_service.create(error, 'top', 'error');\n        });\n  }\n  language_field() {\n    this.api_service.get_list(this.language_field_url + '?api_token=' + this.api_service.api_token + '&lang_code='+this.code).subscribe((result: any) => {\n        this.api_service.stopLoader();\n        if (result.status == 'success') {\n          this.languagefield = result.field_list;\n        }\n        else {\n          this.api_service.create(result.message, 'top', 'error');\n        }\n      },\n        (error) => {\n          this.api_service.create(error, 'top', 'error');\n        });\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-email/edit-email.ts"],"sourceRoot":""}