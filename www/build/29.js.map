{"version":3,"sources":["../../src/pages/category/category.module.ts","../../src/pages/category/category.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CategoryPage } from './category';\nimport { FormsModule } from '@angular/forms';\n@NgModule({\n  declarations: [\n    CategoryPage,\n  ],\n  imports: [\n    FormsModule,\n    IonicPageModule.forChild(CategoryPage),\n  ],\n})\nexport class CategoryPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category/category.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, AlertController, NavParams, Events } from 'ionic-angular';\nimport { Service } from '../../app/service';\nimport { DatePipe } from '@angular/common';\n@IonicPage()\n@Component({\n  selector: 'page-category',\n  templateUrl: 'category.html',\n})\nexport class CategoryPage {\n  public show: boolean = false;\n  public buttonName: any = 'Show';\n  selectOptions: any;\n  postListUrl: string;\n  postList: any = [];\n  area: any = 0;\n  data: any;\n  api_token: any;\n  catId: any;\n  cat: any;\n  cat_slider: string = 'home_slider';\n  img: any;\n  imageUrl: string = this.service.API_URL_IMG;\n  home_slider: string = 'home_slider';\n  slider: any;\n  speed: any;\n  singleImage: any;\n  // AREA LIST\n  areaUrl: string;\n  areaList: any = [];\n  code: any;\n  language_field_url: string = 'language_settings_field';\n  languagefield: any = {};\n  constructor(public navCtrl: NavController, public navParams: NavParams, public service: Service, public datePipe: DatePipe,\n    public alertCtrl: AlertController, public events: Events) {\n    this.selectOptions = {\n      title: 'Select Area',\n    };\n    if (localStorage.getItem('eastern_deals') != null && localStorage.getItem('eastern_deals') != undefined) {\n      this.data = JSON.parse(localStorage.getItem('eastern_deals'))\n    }\n    this.cat = navParams.get('categoty_details');\n    this.catId = this.cat.id;\n    this.img = this.service.API_URL_IMG;\n    if (localStorage.getItem('lang_code')) {\n      let value = localStorage.getItem('lang_code');\n      this.code = value;\n      console.log(this.code);\n    }\n    this.getBasicData();\n    this.getCategoryList(this.current_page_no);\n    this.homeslider();\n    this.language_field();\n  }\n  ionViewDidLoad() {\n  }\n  ionViewDidEnter() {\n    this.events.publish('fabhide:created', true);\n  }\n  ionViewWillLeave() {\n    this.events.publish('fabhide:created', false);\n  }\n  // ======================================================================================================================\n  // GET BASIC DATA\n  // ==========================\n  getBasicData = () => {\n    // AREA LIST\n    // ===============\n    this.areaUrl = 'area_list';\n    this.service.get_list(this.areaUrl + '?api_token=' + this.service.api_token + '&lang_code=' + this.code)\n      .subscribe((result: any) => {\n        this.service.stopLoader();\n        result.data.unshift({ id: 0, 'area_name': 'All' })\n        this.areaList = result.data;\n      }, (error: any) => {\n        this.service.create(error, 'top', 'error');\n        this.service.stopLoader();\n      })\n  }\n  // ===========================================================================================================================\n  // AREA SELECTED\n  // =====================\n  areaSelect = (event: any) => {\n    if (event != 0) {\n      this.area = event;\n    }\n    this.postList = [];\n    this.getCategoryList(this.current_page_no);\n  }\n  // ============================================================================================================================\n  // GET CATEGORY LIST\n  // ============================\n  showEndPage;\n  current_page_no: any = 1;\n  postdata:any;\n  getCategoryList = (page_no) => {\n     \n    this.postListUrl = 'post_list';\n    let postListapi = this.postListUrl + '?api_token=' + this.service.api_token;\n    postListapi += '&category=' + this.catId;\n    postListapi += '&date=' + this.datePipe.transform(new Date(), 'yyyy/MM/dd');\n    postListapi += '&lang_code=' + this.code;\n    postListapi += '&page=' + page_no;\n    postListapi += '&limit=' + 6;\n    if (this.area != null && this.area != 0) {\n      // obj.area = this.area;\n      postListapi += '&area=' + this.area;\n    }\n    this.service.get_list(postListapi)\n      .subscribe((result) => {\n        if (result.status == 'success') {\n          // this.service.stopLoader();\n          this.postdata = result.data;\n          if (this.postdata && this.postdata.length == 0) {\n            this.showEndPage = true;\n          } else {\n            this.showEndPage = false;\n          }\n          this.postList = this.postList.concat(this.postdata);\n        } else {\n          this.service.create(JSON.stringify(result), 'top', 'error');\n          // this.service.stopLoader();\n        }\n      }, (error) => {\n        // this.service.stopLoader();\n        this.service.create(error, 'top', 'error');\n      })\n  }\n  // =====================================================================================================================\n  // PULL TO REFRESH\n  // ============================\n  // doRefresh(refresher) {\n  //   this.current_page_no = 1;\n  //   this.events.publish('refresher:enabled', true);\n  //   this.postList = [];\n  //   this.getCategoryList(this.current_page_no);\n  //   setTimeout(() => {\n  //     refresher.complete();\n  //   }, 2000);\n  // }\n  reActiveInfinite: any;\n  doInfinite(infiniteScroll) {\n    if (this.postdata && this.postdata.length == 0) {\n      this.showEndPage = true;\n      infiniteScroll.enable(false);\n    } else {\n      setTimeout(() => {\n        this.current_page_no = this.current_page_no + 1;\n        this.showEndPage = false;\n        this.getCategoryList(this.current_page_no);\n        infiniteScroll.complete();\n        this.reActiveInfinite = infiniteScroll;\n      }, 1000);\n    }\n  }\n  doRefresh(refresher) {\n    this.current_page_no = 1;\n    if (this.reActiveInfinite) {\n      this.reActiveInfinite.enable(true);\n    }\n    this.postList = [];\n    this.getCategoryList(this.current_page_no);\n    this.events.publish('refresher:enabled', true);\n    setTimeout(() => {\n      refresher.complete();\n    }, 2000);\n  }\n\n  // =====================================================================================================================\n  toggle() {\n    this.show = !this.show;\n  }\n  description(id: any) {\n    this.navCtrl.push('DescriptionPage', { id: id });\n  }\n  // =======================================================================================================================\n  // HOME SLIDER\n  // ======================\n  homeslider() {\n    this.service.get_list(this.cat_slider + '?api_token=' + this.service.api_token + '&slider_name=5&category_id=' + this.catId).subscribe((result: any) => {\n      this.service.stopLoader();\n      this.slider = result.data;\n      console.log(this.slider);\n      this.speed = result.speed;\n    }, (error) => {\n      this.service.create(error, 'top', 'error');\n      this.service.stopLoader();\n    });\n  }\n  language_field() {\n    this.data = {};\n    this.api_token = this.service.api_token;\n    this.data.api_token = this.api_token;\n    this.data.lang_code = this.code;\n\n    this.service.post_data(this.language_field_url, this.data)\n      .subscribe((result: any) => {\n        this.service.stopLoader();\n        if (result.status == 'success') {\n          this.service.stopLoader();\n          this.languagefield = result.field_list;\n        }\n        else {\n          this.service.stopLoader();\n          this.service.create(result.message, 'top', 'error');\n        }\n      },\n        (error) => {\n          this.service.stopLoader();\n          this.service.create(error, 'top', 'error');\n        });\n  }\n}\n// class Category {\n//   api_token: any;\n//   category: any;\n//   area?: any;\n//   date: any;\n//   customer?: any;\n//   lang_code: any;\n//   page:any;\n//   limit:any;\n// }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category/category.ts"],"sourceRoot":""}